{"version":3,"sources":["OtpInput.tsx"],"names":["React","useState","useEffect","forwardRef","Platform","TextInput","View","majorVersionIOS","parseInt","Version","isOTPSupported","OS","OtpInput","ref","focusStyles","handleKeyPress","handleTextChange","inputContainerStyles","inputStyles","inputValue","placeholder","selectTextOnFocus","rest","focused","setFocused","current","setNativeProps","value","text","select","ios","android","memo"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,EAAqCC,UAArC,QAAkE,OAAlE;AACA,SACEC,QADF,EAGEC,SAHF,EAKEC,IALF,QAUO,cAVP;AAyBA,MAAMC,eAAuB,GAAGC,QAAQ,WAAIJ,QAAQ,CAACK,OAAb,GAAwB,EAAxB,CAAxC;AACA,MAAMC,cAAuB,GAAGN,QAAQ,CAACO,EAAT,KAAgB,KAAhB,IAAyBJ,eAAe,IAAI,EAA5E;AAEA,MAAMK,QAAQ,gBAAGT,UAAU,CACzB,OAYEU,GAZF,KAaK;AAAA,MAZH;AACEC,IAAAA,WADF;AAEEC,IAAAA,cAFF;AAGEC,IAAAA,gBAHF;AAIEC,IAAAA,oBAJF;AAKEC,IAAAA,WALF;AAMEC,IAAAA,UANF;AAOEC,IAAAA,WAPF;AAQEC,IAAAA;AARF,GAYG;AAAA,MAHEC,IAGF;;AACH,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBvB,QAAQ,CAAC,KAAD,CAAtC;AAEAC,EAAAA,SAAS,CAAC,MAAM;AAAA;;AACd,aAACW,GAAD,iEAA+BY,OAA/B,gEAAwCC,cAAxC,CAAuD;AACrDC,MAAAA,KAAK,EAAER,UAD8C;AAErDS,MAAAA,IAAI,EAAET;AAF+C,KAAvD;AAID,GALQ,EAKN,CAACN,GAAD,EAAMM,UAAN,CALM,CAAT;AAOA,sBACE,oBAAC,IAAD;AAAM,IAAA,KAAK,EAAE,CAACF,oBAAD,EAAuBM,OAAO,IAAIT,WAAlC;AAAb,kBACE,oBAAC,SAAD;AACE,IAAA,MAAM,EAAE,MAAMU,UAAU,CAAC,KAAD,CAD1B;AAEE,IAAA,YAAY,EAAER,gBAFhB;AAGE,IAAA,OAAO,EAAE,MAAMQ,UAAU,CAAC,IAAD,CAH3B;AAIE,IAAA,UAAU,EAAET,cAJd;AAKE,IAAA,WAAW,EAAEK,WALf;AAME,IAAA,GAAG,EAAEP,GANP,CAOE;AAPF;AAQE,IAAA,iBAAiB,EAAET,QAAQ,CAACyB,MAAT,CAAgB;AACjCC,MAAAA,GAAG,EAAET,iBAD4B;AAEjCU,MAAAA,OAAO,EAAE;AAFwB,KAAhB,CARrB;AAYE,IAAA,KAAK,EAAEb,WAZT;AAaE,IAAA,eAAe,EAAER,cAAc,GAAG,aAAH,GAAmB,MAbpD;AAcE,IAAA,qBAAqB,EAAC;AAdxB,KAeMY,IAfN,EADF,CADF;AAqBD,CA7CwB,CAA3B;AAgDA,4BAAetB,KAAK,CAACgC,IAAN,CAAkBpB,QAAlB,CAAf","sourcesContent":["import React, { useState, useEffect, forwardRef, RefObject } from 'react';\nimport {\n  Platform,\n  StyleProp,\n  TextInput,\n  TextStyle,\n  View,\n  ViewStyle,\n  TextInputProps,\n  NativeSyntheticEvent,\n  TextInputKeyPressEventData,\n} from 'react-native';\n\ntype Props = TextInputProps & {\n  inputContainerStyles?: StyleProp<ViewStyle>;\n  firstInput: boolean;\n  focusStyles?: StyleProp<ViewStyle>;\n  inputStyles?: StyleProp<TextStyle>;\n  numberOfInputs: number;\n  handleTextChange: (text: string) => void;\n  inputValue: string;\n  handleKeyPress: (\n    keyPressEvent: NativeSyntheticEvent<TextInputKeyPressEventData>,\n  ) => void;\n};\n\nconst majorVersionIOS: number = parseInt(`${Platform.Version}`, 10);\nconst isOTPSupported: boolean = Platform.OS === 'ios' && majorVersionIOS >= 12;\n\nconst OtpInput = forwardRef<TextInput, Props>(\n  (\n    {\n      focusStyles,\n      handleKeyPress,\n      handleTextChange,\n      inputContainerStyles,\n      inputStyles,\n      inputValue,\n      placeholder,\n      selectTextOnFocus,\n      ...rest\n    },\n    ref,\n  ) => {\n    const [focused, setFocused] = useState(false);\n\n    useEffect(() => {\n      (ref as RefObject<TextInput>)?.current?.setNativeProps({\n        value: inputValue,\n        text: inputValue,\n      });\n    }, [ref, inputValue]);\n\n    return (\n      <View style={[inputContainerStyles, focused && focusStyles]}>\n        <TextInput\n          onBlur={() => setFocused(false)}\n          onChangeText={handleTextChange}\n          onFocus={() => setFocused(true)}\n          onKeyPress={handleKeyPress}\n          placeholder={placeholder}\n          ref={ref}\n          // https://github.com/facebook/react-native/issues/18339\n          selectTextOnFocus={Platform.select({\n            ios: selectTextOnFocus,\n            android: true,\n          })}\n          style={inputStyles}\n          textContentType={isOTPSupported ? 'oneTimeCode' : 'none'}\n          underlineColorAndroid=\"transparent\"\n          {...rest}\n        />\n      </View>\n    );\n  },\n);\n\nexport default React.memo<Props>(OtpInput);\n"]}